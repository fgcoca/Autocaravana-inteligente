<!doctype html><html lang=es class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Se trata de documentar el kit de Keyestudio KS0507 Smart RV que contiene todo lo necesario para disponer de una autocaravana inteligente en miniatura con la que aprender programación, que en nuestro caso haremos con ArduinoBlocks. El propio kit dispone de todas las herramientas y elementos necesarios para su montaje."><meta name=author content="Federico Coca"><link href=https://fgcoca.github.io/Autocaravana-inteligente/Tactividades/T_teclado/ rel=canonical><link rel=icon href=../../img/favicon.png><meta name=generator content="mkdocs-1.4.0, mkdocs-material-8.5.6"><title>Teclado matricial de 4x4 - Autocaravana inteligente</title><link rel=stylesheet href=../../assets/stylesheets/main.20d9efc8.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.cbb835fc.min.css><meta name=theme-color content=#02a6f2><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme data-md-color-primary=light-blue data-md-color-accent=deep-purple> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#el-teclado-matricial-de-4x4 class=md-skip> Saltar a contenido </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Cabecera> <a href=../.. title="Autocaravana inteligente" class="md-header__button md-logo" aria-label="Autocaravana inteligente" data-md-component=logo> <img src=../../img/favicon.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Autocaravana inteligente </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Teclado matricial de 4x4 </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Búsqueda placeholder=Búsqueda autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Limpiar aria-label=Limpiar tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Inicializando búsqueda </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/fgcoca/Autocaravana-inteligente title="Ir al repositorio" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> fgcoca/Autocaravana-inteligente </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navegación data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="Autocaravana inteligente" class="md-nav__button md-logo" aria-label="Autocaravana inteligente" data-md-component=logo> <img src=../../img/favicon.png alt=logo> </a> Autocaravana inteligente </label> <div class=md-nav__source> <a href=https://github.com/fgcoca/Autocaravana-inteligente title="Ir al repositorio" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> fgcoca/Autocaravana-inteligente </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> Introducción </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2 type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2> Materiales y ensamblado <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Materiales y ensamblado" data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Materiales y ensamblado </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../preliminar/ class=md-nav__link> Preliminar </a> </li> <li class=md-nav__item> <a href=../../parte1/ class=md-nav__link> Parte 1. Tableros B y H </a> </li> <li class=md-nav__item> <a href=../../parte2/ class=md-nav__link> Parte 2. Tableros A e I </a> </li> <li class=md-nav__item> <a href=../../parte3/ class=md-nav__link> Parte 3. Tablero K </a> </li> <li class=md-nav__item> <a href=../../parte4/ class=md-nav__link> Parte 4. Tablero L </a> </li> <li class=md-nav__item> <a href=../../parte5/ class=md-nav__link> Parte 5. Tableros N y O </a> </li> <li class=md-nav__item> <a href=../../parte6/ class=md-nav__link> Parte 6. Tableros M y E </a> </li> <li class=md-nav__item> <a href=../../parte7/ class=md-nav__link> Parte 7. Tablero C </a> </li> <li class=md-nav__item> <a href=../../montaje/ class=md-nav__link> Montaje de las partes </a> </li> <li class=md-nav__item> <a href=../../conex/ class=md-nav__link> Conexionado </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3> Teoría general <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Teoría general" data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Teoría general </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../soft/ class=md-nav__link> Software </a> </li> <li class=md-nav__item> <a href=../../operadores/ class=md-nav__link> Operadores en C++ </a> </li> <li class=md-nav__item> <a href=../../IoT_basico/ class=md-nav__link> Teoría básica de IoT </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4 type=checkbox id=__nav_4 checked> <label class=md-nav__link for=__nav_4> Teoría para las actividades <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Teoría para las actividades" data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Teoría para las actividades </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../intro/ class=md-nav__link> Introducción </a> </li> <li class=md-nav__item> <a href=../T_LED/ class=md-nav__link> El diodo LED </a> </li> <li class=md-nav__item> <a href=../T_RGB/ class=md-nav__link> El diodo LED RGB </a> </li> <li class=md-nav__item> <a href=../T_pulsador/ class=md-nav__link> Botón pulsador </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Teclado matricial de 4x4 <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Teclado matricial de 4x4 </a> <nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Tabla de contenidos </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#conceptos-incluidos class=md-nav__link> Conceptos incluidos </a> </li> <li class=md-nav__item> <a href=#teclado-de-4x4 class=md-nav__link> Teclado de 4x4 </a> </li> <li class=md-nav__item> <a href=#el-terminal-o-consola-serie class=md-nav__link> El terminal o consola serie </a> </li> <li class=md-nav__item> <a href=#memoria-eeprom class=md-nav__link> Memoria EEPROM </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../T_sonido/ class=md-nav__link> Módulo amplificador </a> </li> <li class=md-nav__item> <a href=../T_PIR/ class=md-nav__link> Sensor de movimiento PIR </a> </li> <li class=md-nav__item> <a href=../T_LCD/ class=md-nav__link> Pantalla LCD I2C </a> </li> <li class=md-nav__item> <a href=../T_DHTxx/ class=md-nav__link> Sensor DHTxx </a> </li> <li class=md-nav__item> <a href=../T_poten/ class=md-nav__link> El potenciómetro </a> </li> <li class=md-nav__item> <a href=../T_TEMT6000/ class=md-nav__link> Sensor de luz ambiental </a> </li> <li class=md-nav__item> <a href=../T_vapor/ class=md-nav__link> Sensor de vapor (steam) </a> </li> <li class=md-nav__item> <a href=../T_neo/ class=md-nav__link> LEDs RGB direccionables </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5 type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5> Desarrollo de las actividades <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Desarrollo de las actividades" data-md-level=1> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Desarrollo de las actividades </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../actividades/A_LED/ class=md-nav__link> El diodo LED </a> </li> <li class=md-nav__item> <a href=../../actividades/A_RGB/ class=md-nav__link> El diodo LED RGB </a> </li> <li class=md-nav__item> <a href=../../actividades/A_pulsador/ class=md-nav__link> Botón pulsador </a> </li> <li class=md-nav__item> <a href=../../actividades/A_teclado/ class=md-nav__link> Teclado matricial de 4x4 </a> </li> <li class=md-nav__item> <a href=../../actividades/A_sonido/ class=md-nav__link> Módulo amplificador </a> </li> <li class=md-nav__item> <a href=../../actividades/A_PIR/ class=md-nav__link> Sensor de movimiento PIR </a> </li> <li class=md-nav__item> <a href=../../actividades/A_LCD/ class=md-nav__link> Pantalla LCD I2C </a> </li> <li class=md-nav__item> <a href=../../actividades/A_DHTxx/ class=md-nav__link> Sensor DHTxx </a> </li> <li class=md-nav__item> <a href=../../actividades/A_poten/ class=md-nav__link> El potenciómetro </a> </li> <li class=md-nav__item> <a href=../../actividades/A_TEMT6000/ class=md-nav__link> Sensor de luz ambiental </a> </li> <li class=md-nav__item> <a href=../../actividades/A_vapor/ class=md-nav__link> Sensor de vapor (steam) </a> </li> <li class=md-nav__item> <a href=../../actividades/A_neo/ class=md-nav__link> LEDs RGB direccionables </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6 type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6> Miscelanea <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Miscelanea data-md-level=1> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Miscelanea </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../Miscelanea/about/ class=md-nav__link> Autor </a> </li> <li class=md-nav__item> <a href=../../Miscelanea/lic/ class=md-nav__link> Licencias </a> </li> <li class=md-nav__item> <a href=../../Miscelanea/webgrafia/ class=md-nav__link> Webgrafia/Bibliografía </a> </li> <li class=md-nav__item> <a href=../../Miscelanea/soft/ class=md-nav__link> Software utilizado </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Tabla de contenidos </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#conceptos-incluidos class=md-nav__link> Conceptos incluidos </a> </li> <li class=md-nav__item> <a href=#teclado-de-4x4 class=md-nav__link> Teclado de 4x4 </a> </li> <li class=md-nav__item> <a href=#el-terminal-o-consola-serie class=md-nav__link> El terminal o consola serie </a> </li> <li class=md-nav__item> <a href=#memoria-eeprom class=md-nav__link> Memoria EEPROM </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=el-teclado-matricial-de-4x4><font color=#8B008B>El teclado matricial de 4x4</font><a class=headerlink href=#el-teclado-matricial-de-4x4 title="Permanent link">&para;</a></h1> <h2 id=conceptos-incluidos><font color=#007575><strong>Conceptos incluidos</strong></font><a class=headerlink href=#conceptos-incluidos title="Permanent link">&para;</a></h2> <p><font color=#FF00FF><b><font size=5></p> <ul> <li>Consola o monitor serie</li> </ul> <p></font></b></font></p> <h2 id=teclado-de-4x4><font color=#007575><strong>Teclado de 4x4</strong></font><a class=headerlink href=#teclado-de-4x4 title="Permanent link">&para;</a></h2> <p>También conocidos como keypad, generalmente nos vamos a encontrar con dos tipos de teclados de 4x4 matriciales, unos basados en botones clásicos y otros de tipo membrana. En la figura siguiente vemos ejemplos de los mismos.</p> <p><center></p> <p><img alt="Teclados de 4x4 matriciales" src=../../img/Tactividades/teclado/tipos.png></p> <p><em>Teclados de 4x4 matriciales</em></p> <p></center></p> <p>En el caso de la autocaravana se utiliza el de membrana, pero cualquiera de ellos se corresponde con un esquema de conexionado como el de la figura siguiente:</p> <p><center></p> <p><img alt="Esquema conexiones teclados de 4x4 matriciales" src=../../img/Tactividades/teclado/esquema.png></p> <p><em>Esquema conexiones teclados de 4x4 matriciales</em></p> <p></center></p> <p>Detectar la pulsación de una tecla concreta es totalmente similar a la lectura simple de un pulsador. En nuestro caso las filas van determinadas por los pines 5, 6, 7 y 8 del conector del teclado y las columnas por los pines 1, 2, 3 y 4. Por otro lado en el conector del teclado los pines son de izquierda a derecha, F1-F2-F3-F4-C1-C2-C3-C4. La correspondencia de pines de conexión con el esquema de conexionado y la tecla que corresponde lo vemos en la tabla siguiente:</p> <p><center></p> <table> <thead> <tr> <th align=center>Tecla</th> <th align=center>Pines en teclado</th> <th align=center>Fila</th> <th align=center>Columna</th> <th align=center>Pines placa de control</th> </tr> </thead> <tbody> <tr> <td align=center>1</td> <td align=center>8 / 4</td> <td align=center>1</td> <td align=center>1</td> <td align=center>A15 / A11</td> </tr> <tr> <td align=center>2</td> <td align=center>8 / 3</td> <td align=center>1</td> <td align=center>2</td> <td align=center>A15 / A10</td> </tr> <tr> <td align=center>3</td> <td align=center>8 / 2</td> <td align=center>1</td> <td align=center>3</td> <td align=center>A15 / A9</td> </tr> <tr> <td align=center>4</td> <td align=center>7 / 4</td> <td align=center>2</td> <td align=center>1</td> <td align=center>A14 / A11</td> </tr> <tr> <td align=center>5</td> <td align=center>7 / 3</td> <td align=center>2</td> <td align=center>2</td> <td align=center>A14 / A10</td> </tr> <tr> <td align=center>6</td> <td align=center>7 / 2</td> <td align=center>2</td> <td align=center>3</td> <td align=center>A14 / A9</td> </tr> <tr> <td align=center>7</td> <td align=center>6 / 4</td> <td align=center>3</td> <td align=center>1</td> <td align=center>A13 / A11</td> </tr> <tr> <td align=center>8</td> <td align=center>6 / 3</td> <td align=center>3</td> <td align=center>2</td> <td align=center>A13 / A10</td> </tr> <tr> <td align=center>9</td> <td align=center>6 / 2</td> <td align=center>3</td> <td align=center>3</td> <td align=center>A13 / A9</td> </tr> <tr> <td align=center>0</td> <td align=center>5 / 3</td> <td align=center>4</td> <td align=center>2</td> <td align=center>A12 / A10</td> </tr> <tr> <td align=center>A</td> <td align=center>8 / 1</td> <td align=center>1</td> <td align=center>4</td> <td align=center>A15 / A8</td> </tr> <tr> <td align=center>B</td> <td align=center>7 / 1</td> <td align=center>2</td> <td align=center>4</td> <td align=center>A14 / A8</td> </tr> <tr> <td align=center>C</td> <td align=center>6 / 2</td> <td align=center>3</td> <td align=center>4</td> <td align=center>A13 / A8</td> </tr> <tr> <td align=center>D</td> <td align=center>5 / 1</td> <td align=center>4</td> <td align=center>4</td> <td align=center>A12 / A8</td> </tr> <tr> <td align=center>*</td> <td align=center>5 / 4</td> <td align=center>4</td> <td align=center>1</td> <td align=center>A12 / A11</td> </tr> <tr> <td align=center>#</td> <td align=center>5 / 2</td> <td align=center>4</td> <td align=center>3</td> <td align=center>A12 / A9</td> </tr> </tbody> </table> <p></center></p> <p>Vemos la correspondencia de pines en la figura siguiente:</p> <p><center></p> <p><img alt="Distribución de pines en teclados de 4x4 matriciales" src=../../img/Tactividades/teclado/relacion.png></p> <p><em>Distribución de pines en teclados de 4x4 matriciales</em></p> <p></center></p> <p>En el menú 'Periféricos' tenemos los bloques necesarios para trabajar con este y otros teclados. En la figura siguiente vemos los bloques y una breve explicación de los mismos.</p> <p><center></p> <p><img alt="Bloques para keypad" src=../../img/Tactividades/teclado/bloques.png></p> <p><em>Bloques para keypad</em></p> <p></center></p> <p>En 'Inicializar' es obligatorio poner el bloque de configuración del teclado que estemos utilizando y poner correctamente los pines a los que lo conectamos.</p> <h2 id=el-terminal-o-consola-serie><font color=#007575><strong>El terminal o consola serie</strong></font><a class=headerlink href=#el-terminal-o-consola-serie title="Permanent link">&para;</a></h2> <p>Sirve para visualizar en un ordenador los datos recibidos a través del puerto serie y en realidad es una aplicación que controla las comunicaciones bidireccionales a través de la UART integrada en el microcontrolador.</p> <p>Es muy importante tener siempre presente que el puerto serie es el que se utiliza para "subir" el firmware o programa a la placa, tarea que se realiza a través de una aplicación pregrabada en el microntrolador y que se denomina "bootloader".</p> <p>En ArduinoBlocks es posible usar la consola serie solamente si tenemos instalada y en funcionamiento la aplicación ArduinoBlocks-Connector que es la encargada de establecer las comunicaciones locales de nuestra placa con las remotas de la aplicación. En la imagen siguiente vemos el aspecto de la consola.</p> <p><center></p> <p><img alt="Aspecto de la Consola en ArduinoBlocks" src=../../img/Tactividades/teclado/Aconsola.png></p> <p><em>Aspecto de la Consola en ArduinoBlocks</em></p> <p></center></p> <p><font color=#FF00FF><b>IMPORTANTE</b></font></p> <ul> <li> <p>A la hora de establecer una conexión serie los dos extremos que intervienen en la conexión (placa de control y ordenador) deben establecer el mismo valor en la velocidad de la conexión. Por defecto esta velocidad normalmente es de 9600 baudios o bits por segundo en el bloque inicializar y otras velocidades comunmente utilizadas son: 4800, 9600, 19200, 38400, 57600 y 115200. Es por lo tanto imprescindible incluir en el bloque "Inicializar" el bloque "Iniciar" y establecer la velocidad de comunicación.</p> </li> <li> <p>El “bootloader” de Arduino normalmente tiene configurada la opción de resetear el microcontrolador cuando se inicia una conexión serie, por tanto si conectamos con la consola serie del PC hay que tener en cuenta que se reiniciará el programa y se ejecutará el bloque “inicializar". En las placas tipo ESP32 esta función no está habilitada en el bootloader por lo que si es necesario el reset de la placa hay que hacerlo manualmente.</p> </li> </ul> <h2 id=memoria-eeprom><font color=#007575><strong>Memoria EEPROM</strong></font><a class=headerlink href=#memoria-eeprom title="Permanent link">&para;</a></h2> <p>EEPROM son las siglas de "Electrically Erasable Programmable Read-Only Memory" que significan que es una memoria de solo lectura programable y borrable eléctricamente. Es decir, una memoria EEPROM almacena bits de información mediante semiconductores y es capaz de mantener su estado entre ciclos de desconexión y conexión de la energía. La EEPROM soporta hasta cien mil ciclos de escritura.</p> <p>Las placas tipo Arduino disponen de memoria EEPROM como memoria interna del microcontrolador que nos permite guardar información de configuración de la aplicación o valores de estado que se necesiten recuperar después de un corte de la alimentación eléctrica.</p> <p>El microcontrolador de la placa de control de la autocaravana es un Arduino mega y tiene 4096 bytes (4 KB) de memoria EEPROM, sin embargo en ArduinoBlocks cada variable usada internamente es de tipo double y utiliza 4 bytes por lo que a la hora de almacenar o recuperar una variable de la memoria EEPROM sólo podemos almacenar en 1024 posiciones (1024 x 4 = 4096 bytes).</p> <p>Vamos a pensar en esas posiciones de memoria como celdas de una tabla que pueden contener un valor de 8 bits, o sea entre 0 y 255. El aspecto lo podemos poner como en la gráfica de la figura siguiente:</p> <p><center></p> <p><img alt="Celdas de memoria" src=../../img/Tactividades/teclado/celdas.png></p> <p><em>Celdas de memoria</em></p> <p></center></p> <p>La forma de guardar información en las celdas es indicar su dirección y el contenido tal y como contempla el bloque que vemos en la imagen siguiente:</p> <p><center></p> <p><img alt="Bloque guardar datos en EEPROM" src=../../img/Tactividades/teclado/bloqueG.png></p> <p><em>Bloque guardar datos en EEPROM</em></p> <p></center></p> <p>Trabajando en ArduinoBlocks esto es mejor contemplarlo como vemos en la figura siguiente:</p> <p><center></p> <p><img alt="Celdas de memoria en ArduinoBlocks" src=../../img/Tactividades/teclado/celdasAB.png></p> <p><em>Celdas de memoria en ArduinoBlocks</em></p> <p></center></p> <p>Quedando cada dirección de memoria que gestiona ArduinoBlocks como un grupo de 4 bytes.</p> <p>Cuando guardamos información en memoria EEPROM tenemos que tener especial cuidado con gestionar correctamente las direcciones de memoria y evitar solapar información en las mismas.</p> </article> </div> </div> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Pie> <a href=../T_pulsador/ class="md-footer__link md-footer__link--prev" aria-label="Anterior: Botón pulsador" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Anterior </span> Botón pulsador </div> </div> </a> <a href=../T_sonido/ class="md-footer__link md-footer__link--next" aria-label="Siguiente: Módulo amplificador" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Siguiente </span> Módulo amplificador </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2020 - 2025 Federico Coca </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://twitter.com/fgcoca target=_blank rel=noopener title="Twitter de Federico Coca" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> <a href=https://github.com/fgcoca target=_blank rel=noopener title="Github de Federico Coca" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href="https://www.instagram.com/cocafederico/?hl=es" target=_blank rel=noopener title="Instagram de Federico Coca" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"/></svg> </a> <a href=https://twitter.com/clubroboticagra target=_blank rel=noopener title="Twitter de Club Robótica Granada" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.5bf1dace.min.js", "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.config.lang": "es", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "B\u00fasqueda", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version.title": "Seleccionar versi\u00f3n"}}</script> <script src=../../assets/javascripts/bundle.078830c0.min.js></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script> </body> </html>